{"ast":null,"code":"import { VectorStoreQATool } from \"../../../tools/vectorstore.js\";\nimport { Toolkit } from \"../base.js\";\nimport { ZeroShotAgent } from \"../../mrkl/index.js\";\nimport { VECTOR_PREFIX, VECTOR_ROUTER_PREFIX } from \"./prompt.js\";\nimport { SUFFIX } from \"../../mrkl/prompt.js\";\nimport { LLMChain } from \"../../../chains/llm_chain.js\";\nimport { AgentExecutor } from \"../../executor.js\";\nexport class VectorStoreToolkit extends Toolkit {\n  constructor(vectorStoreInfo, llm) {\n    super();\n    Object.defineProperty(this, \"tools\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"llm\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    const description = VectorStoreQATool.getDescription(vectorStoreInfo.name, vectorStoreInfo.description);\n    this.llm = llm;\n    this.tools = [new VectorStoreQATool(vectorStoreInfo.name, description, {\n      vectorStore: vectorStoreInfo.vectorStore,\n      llm: this.llm\n    })];\n  }\n}\nexport class VectorStoreRouterToolkit extends Toolkit {\n  constructor(vectorStoreInfos, llm) {\n    super();\n    Object.defineProperty(this, \"tools\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"vectorStoreInfos\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"llm\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    this.llm = llm;\n    this.vectorStoreInfos = vectorStoreInfos;\n    this.tools = vectorStoreInfos.map(vectorStoreInfo => {\n      const description = VectorStoreQATool.getDescription(vectorStoreInfo.name, vectorStoreInfo.description);\n      return new VectorStoreQATool(vectorStoreInfo.name, description, {\n        vectorStore: vectorStoreInfo.vectorStore,\n        llm: this.llm\n      });\n    });\n  }\n}\nexport function createVectorStoreAgent(llm, toolkit, args) {\n  const {\n    prefix = VECTOR_PREFIX,\n    suffix = SUFFIX,\n    inputVariables = [\"input\", \"agent_scratchpad\"]\n  } = args ?? {};\n  const {\n    tools\n  } = toolkit;\n  const prompt = ZeroShotAgent.createPrompt(tools, {\n    prefix,\n    suffix,\n    inputVariables\n  });\n  const chain = new LLMChain({\n    prompt,\n    llm\n  });\n  const agent = new ZeroShotAgent({\n    llmChain: chain,\n    allowedTools: tools.map(t => t.name)\n  });\n  return AgentExecutor.fromAgentAndTools({\n    agent,\n    tools,\n    returnIntermediateSteps: true\n  });\n}\nexport function createVectorStoreRouterAgent(llm, toolkit, args) {\n  const {\n    prefix = VECTOR_ROUTER_PREFIX,\n    suffix = SUFFIX,\n    inputVariables = [\"input\", \"agent_scratchpad\"]\n  } = args ?? {};\n  const {\n    tools\n  } = toolkit;\n  const prompt = ZeroShotAgent.createPrompt(tools, {\n    prefix,\n    suffix,\n    inputVariables\n  });\n  const chain = new LLMChain({\n    prompt,\n    llm\n  });\n  const agent = new ZeroShotAgent({\n    llmChain: chain,\n    allowedTools: tools.map(t => t.name)\n  });\n  return AgentExecutor.fromAgentAndTools({\n    agent,\n    tools,\n    returnIntermediateSteps: true\n  });\n}","map":{"version":3,"names":["VectorStoreQATool","Toolkit","ZeroShotAgent","VECTOR_PREFIX","VECTOR_ROUTER_PREFIX","SUFFIX","LLMChain","AgentExecutor","VectorStoreToolkit","constructor","vectorStoreInfo","llm","Object","defineProperty","enumerable","configurable","writable","value","description","getDescription","name","tools","vectorStore","VectorStoreRouterToolkit","vectorStoreInfos","map","createVectorStoreAgent","toolkit","args","prefix","suffix","inputVariables","prompt","createPrompt","chain","agent","llmChain","allowedTools","t","fromAgentAndTools","returnIntermediateSteps","createVectorStoreRouterAgent"],"sources":["/Users/b/Code/langchainjs/test-exports-cra/node_modules/langchain/dist/agents/agent_toolkits/vectorstore/vectorstore.js"],"sourcesContent":["import { VectorStoreQATool } from \"../../../tools/vectorstore.js\";\nimport { Toolkit } from \"../base.js\";\nimport { ZeroShotAgent } from \"../../mrkl/index.js\";\nimport { VECTOR_PREFIX, VECTOR_ROUTER_PREFIX } from \"./prompt.js\";\nimport { SUFFIX } from \"../../mrkl/prompt.js\";\nimport { LLMChain } from \"../../../chains/llm_chain.js\";\nimport { AgentExecutor } from \"../../executor.js\";\nexport class VectorStoreToolkit extends Toolkit {\n    constructor(vectorStoreInfo, llm) {\n        super();\n        Object.defineProperty(this, \"tools\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llm\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        const description = VectorStoreQATool.getDescription(vectorStoreInfo.name, vectorStoreInfo.description);\n        this.llm = llm;\n        this.tools = [\n            new VectorStoreQATool(vectorStoreInfo.name, description, {\n                vectorStore: vectorStoreInfo.vectorStore,\n                llm: this.llm,\n            }),\n        ];\n    }\n}\nexport class VectorStoreRouterToolkit extends Toolkit {\n    constructor(vectorStoreInfos, llm) {\n        super();\n        Object.defineProperty(this, \"tools\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"vectorStoreInfos\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llm\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.llm = llm;\n        this.vectorStoreInfos = vectorStoreInfos;\n        this.tools = vectorStoreInfos.map((vectorStoreInfo) => {\n            const description = VectorStoreQATool.getDescription(vectorStoreInfo.name, vectorStoreInfo.description);\n            return new VectorStoreQATool(vectorStoreInfo.name, description, {\n                vectorStore: vectorStoreInfo.vectorStore,\n                llm: this.llm,\n            });\n        });\n    }\n}\nexport function createVectorStoreAgent(llm, toolkit, args) {\n    const { prefix = VECTOR_PREFIX, suffix = SUFFIX, inputVariables = [\"input\", \"agent_scratchpad\"], } = args ?? {};\n    const { tools } = toolkit;\n    const prompt = ZeroShotAgent.createPrompt(tools, {\n        prefix,\n        suffix,\n        inputVariables,\n    });\n    const chain = new LLMChain({ prompt, llm });\n    const agent = new ZeroShotAgent({\n        llmChain: chain,\n        allowedTools: tools.map((t) => t.name),\n    });\n    return AgentExecutor.fromAgentAndTools({\n        agent,\n        tools,\n        returnIntermediateSteps: true,\n    });\n}\nexport function createVectorStoreRouterAgent(llm, toolkit, args) {\n    const { prefix = VECTOR_ROUTER_PREFIX, suffix = SUFFIX, inputVariables = [\"input\", \"agent_scratchpad\"], } = args ?? {};\n    const { tools } = toolkit;\n    const prompt = ZeroShotAgent.createPrompt(tools, {\n        prefix,\n        suffix,\n        inputVariables,\n    });\n    const chain = new LLMChain({ prompt, llm });\n    const agent = new ZeroShotAgent({\n        llmChain: chain,\n        allowedTools: tools.map((t) => t.name),\n    });\n    return AgentExecutor.fromAgentAndTools({\n        agent,\n        tools,\n        returnIntermediateSteps: true,\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}